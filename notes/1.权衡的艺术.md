# 权衡的艺术
## 命令式和声明式

> 命令式
命令式框架的一大特点就是**关注过程**
```js
const div = document.querySelector('#app') // 获取app
div.innerText = 'hello world' //设置文本内容
div.addEventListener('click', () => { alert('ok')}) //绑定点击事件
```
可以看到，自然语言描述能够与代码产生一一对应的关系，代码本身描述的是"做事的过程"，更符合我们的逻辑直觉
> 声明式
声明式框架的一大特点就是**关注结果**
```html
<div @click="() => alert('ok')">hello world</div>
```
这段类HTML的模块就是Vue.js实现的方式，可以看到Vue.js暴露给用户的是声明式的方式，内部实现一定是命令式

## 性能与可维护性的权衡

从上面的例子可以看出，命令式的性能要比声明式的性能好，因为当我们需要对内容进行修改，命令式框架可以直接对要修改的内容进行修改，而声明式框架不关注过程，当我们进行修改的时候，
内部的实现需要去找到与之前内容不同的地方然后再去修改
总的来说就是：
`声明式代码的更新性能消耗 = 找出差异的性能消耗 + 直接修改的性能消耗`
`命令式代码的更新性能消耗 = 直接修改的性能消耗`

## 虚拟DOM

所谓的虚拟DOM就是为了**最小化**找出差异这一步的性能消耗而出现的

## 运行时和编译时

纯运行时框架，没有编译的过程，没办法分析用户提供的内容
纯编译时框架，可以分析用户提供的内容，性能可能会更好，但有损灵活性
Vue.js 3 保持运行时+编译时的架构